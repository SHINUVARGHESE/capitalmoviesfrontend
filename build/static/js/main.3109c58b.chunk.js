(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},78:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(27),i=c.n(s),r=(c(37),c(4)),o=(c(38),c(5)),l=c(2),d=c(6),j=c.n(d),u="http://localhost:3001",b="https://image.tmdb.org/t/p/original",h=c(0);var p=function(){var e=Object(h.jsx)(o.b,{to:"/signin",children:"Signin"}),t=Object(a.useState)({}),c=Object(r.a)(t,2),n=c[0],s=c[1],i=Object(a.useState)([]),d=Object(r.a)(i,2),b=d[0],p=d[1],O=Object(l.f)();return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e?(s(e.userData),j.a.post("".concat(u,"/userfavorate"),{userid:e.userData.id}).then((function(e){p(e.data.favoratemovies)}))):s({})}),[]),Object(h.jsxs)("div",{className:"navbar",children:[Object(h.jsx)("h1",{className:"logo",children:Object(h.jsx)(o.b,{to:"/",children:"Capital Movies"})}),Object(h.jsx)("div",{style:{marginLeft:"35%",color:"white"},children:n.username?Object(h.jsxs)("div",{class:"dropdown",children:[Object(h.jsx)("button",{class:"dropbtn",children:Object(h.jsx)("h3",{children:"favorate"})}),Object(h.jsx)("div",{class:"dropdown-content",children:b.map((function(e,t){return console.log(e),Object(h.jsx)("a",{children:e.moviedata.title})}))})]}):" "}),Object(h.jsx)("ui",{className:"account",children:Object(h.jsx)("li",{children:n.username?Object(h.jsxs)("div",{class:"dropdown",children:[Object(h.jsx)("button",{class:"dropbtn",children:Object(h.jsx)("h3",{children:n.username})}),Object(h.jsx)("div",{class:"dropdown-content",children:Object(h.jsx)("a",{onClick:function(){localStorage.clear(),O.push("/signin")},children:"Logout"})})]}):e})})]})};c(65);var O=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){j.a.get("".concat(u,"/allmovies")).then((function(e){n(e.data.trending[2])}))}),[]),Object(h.jsx)("div",{style:{backgroundImage:"url(".concat(b+c.backdrop_path)},children:Object(h.jsx)("div",{className:"banner",children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("h1",{className:"title",children:c.title}),Object(h.jsx)("h1",{className:"description",children:c.overview})]})})})},m=(c(66),c(30));var x=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),o=i[0],d=i[1],p=Object(a.useState)({}),O=Object(r.a)(p,2),x=O[0],f=O[1];Object(l.f)(),Object(a.useEffect)((function(){j.a.get("".concat(u,"/allmovies")).then((function(e){e.data&&(n(e.data.popular),d(e.data.trending))}))}),[]);var v=function(e){j.a.post("".concat(u,"/findvideoid"),{id:e}).then((function(e){0!==e.data.youtubeVideoId.length&&f({key:e.data.youtubeVideoId})}))},g=function(e,t){var c=JSON.parse(localStorage.getItem("user"));if(c){var a={category:t,movieId:e,userId:c.userData.id};j.a.post("".concat(u,"/addtofavorate"),a).then((function(e){e.data.status&&alert("Movie added to favorate")})).catch((function(){alert("Some went wrong ! can't add movie to favorate")}))}else alert("Please Login first")};return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("h1",{children:"Popularmovies"}),Object(h.jsx)("div",{className:"posters",children:c.map((function(e,t){return Object(h.jsxs)("div",{className:"card1",children:[Object(h.jsx)("h4",{style:{padding:"10px"},children:e.title}),Object(h.jsx)("img",{onClick:function(){v(e.id)},className:"smallPoster",src:"".concat(b+e.backdrop_path)},t),Object(h.jsxs)("div",{className:"banner_buttons",children:[Object(h.jsx)("button",{onClick:function(){g(e.id,"popularmovies")},className:"button",children:"Add to favorate"}),Object(h.jsxs)("a",{href:"#popup1",children:[" ",Object(h.jsx)("button",{className:"button",children:"Overview"})]}),Object(h.jsx)("div",{style:{paddingBottom:"0"},id:"popup1",class:"overlay",children:Object(h.jsxs)("div",{style:{paddingBottom:"0"},class:"popup",children:[Object(h.jsx)("h2",{style:{paddingTop:"40px"},children:e.title}),Object(h.jsx)("a",{class:"close",href:"/",children:"\xd7"}),Object(h.jsx)("div",{style:{color:"black",padding:"8px",paddingBottom:"0"},class:"content",children:e.overview})]})})]})]})}))}),x.key&&Object(h.jsx)(m.a,{opts:{height:"390",width:"100%",playerVars:{autoplay:1}},videoId:x.key}),Object(h.jsx)("h1",{children:"Trendingmovies"}),Object(h.jsx)("div",{className:"posters",children:o.map((function(e,t){return Object(h.jsxs)("div",{className:"card2",children:[Object(h.jsx)("h4",{style:{padding:"10px"},children:e.title?e.title:"Title"}),Object(h.jsx)("img",{onClick:function(){v(e.id)},className:"smallPoster",src:"".concat(b+e.backdrop_path)},t),Object(h.jsxs)("div",{className:"banner_buttons",children:[Object(h.jsx)("button",{onClick:function(){g(e.id,"trendingmovies")},className:"button",children:"Add to favorate"}),Object(h.jsx)("a",{href:"#popup1",children:Object(h.jsx)("button",{className:"button",children:"Overview"})})]})]})}))})]})};var f=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0];return t[1],Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));if(e){var t=e.token;j.a.post("".concat(u,"/checktoken"),{token:t}).then((function(e){console.log("valid token")})).catch((function(){localStorage.clear()}))}}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(p,{user:c}),Object(h.jsx)(O,{}),Object(h.jsx)(x,{})]})},v=c(10),g=c(11);c(78);var S=function(){var e=Object(l.f)(),t=Object(a.useState)(),c=Object(r.a)(t,2),n=c[0],s=c[1];return Object(h.jsx)("div",{style:{backgroundImage:"url(".concat("","/walpaper.jpeg)")},className:"Signin_Form",children:Object(h.jsx)("form",{onChange:function(e){s(Object(g.a)(Object(g.a)({},n),{},Object(v.a)({},e.target.name,e.target.value)))},onSubmit:function(t){t.preventDefault(),j.a.post("".concat(u,"/signin"),{user:n}).then((function(t){var c={token:t.data.accessToken,userData:t.data.user};localStorage.setItem("user",JSON.stringify(c)),e.push("/")})).catch((function(e){alert("Input not matching")}))},method:"POST",id:"login",className:"animate",children:Object(h.jsxs)("center",{children:[Object(h.jsx)("h1",{children:"SIGN IN"}),Object(h.jsx)("input",{type:"email",id:"email",name:"emailaddress",placeholder:"Email Address*",required:!0}),Object(h.jsx)("input",{type:"password",id:"passcode",name:"password",placeholder:"Password*",required:!0}),Object(h.jsx)("button",{style:{cursor:"pointer"},className:"btn1",type:"submit",children:"SignIn"}),Object(h.jsx)("section",{children:Object(h.jsx)("span",{style:{float:"right"},children:Object(h.jsx)(o.b,{to:"/signup",children:"Don't have an account?"})})})]})})})};var y=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));n(e?e.userData:{})}),[]);var s=Object(l.f)();return c.username?s.push("/home"):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{style:{position:"fixed",left:"20px",width:"90%",color:"white",fontSize:"3rem",padding:"20px"},children:Object(h.jsx)(o.b,{to:"/",children:"Capital Movies"})}),Object(h.jsx)(S,{})]})};c(79);var w=function(){var e=Object(l.f)(),t=Object(a.useState)(),c=Object(r.a)(t,2),n=c[0],s=c[1];return Object(h.jsx)("div",{style:{backgroundImage:"url(".concat("","/walpaper.jpeg)")},className:"Signup_Form",children:Object(h.jsx)("form",{onChange:function(e){s(Object(g.a)(Object(g.a)({},n),{},Object(v.a)({},e.target.name,e.target.value)))},onSubmit:function(t){t.preventDefault(),n.password===n.Cpassword?j.a.post("".concat(u,"/signup"),{user:n}).then((function(t){t.data.message?alert("EmailId already exist"):!0===t.data?e.push("/signin"):alert("some went wrong registration failed")})):alert("confirm password not mathchng")},method:"POST",id:"submit-form",className:"animate",children:Object(h.jsxs)("center",{children:[Object(h.jsx)("h1",{children:"SIGN UP"}),Object(h.jsx)("input",{type:"text",id:"username",name:"username",placeholder:"Full name*",autocomplete:"off",required:!0}),Object(h.jsx)("input",{type:"tel",pattern:"[0-9]{10}",id:"mob",name:"contact",placeholder:"Contact no*",autocomplete:"off",required:!0}),Object(h.jsx)("input",{type:"email",id:"emailaddress",name:"emailaddress",placeholder:"Email Address*",autoComplete:"off",required:!0}),Object(h.jsx)("input",{type:"text",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,}",maxlength:"10",minlength:"5",title:"Must contain at least one number and one uppercase and lowercase letter, and 10 charactors",id:"password",name:"password",placeholder:"Password*",autocomplete:"off",required:!0}),Object(h.jsx)("input",{type:"password",id:"Cpassword",name:"Cpassword",placeholder:"Confirm Password*",autocomplete:"off",required:!0}),Object(h.jsx)("input",{style:{cursor:"pointer"},type:"submit",value:"SignUp",className:"btn1"}),Object(h.jsx)("section",{children:Object(h.jsx)("span",{style:{float:"right"},children:Object(h.jsx)(o.b,{to:"/Signin",children:"Already Registered?"})})})]})})})};var N=function(){var e=Object(a.useState)({}),t=Object(r.a)(e,2),c=t[0],n=t[1];Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));n(e?e.userData:{})}),[]);var s=Object(l.f)();return c.username?s.push("/home"):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{style:{position:"fixed",left:"20px",width:"90%",color:"white",fontSize:"3rem",padding:"20px"},children:Object(h.jsx)(o.b,{to:"/",children:"Capital Movies"})}),Object(h.jsx)(w,{})]})};var k=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{exact:!0,path:"/",children:Object(h.jsx)(f,{})}),Object(h.jsx)(l.a,{path:"/home",children:Object(h.jsx)(f,{})}),Object(h.jsx)(l.a,{path:"/signin",children:Object(h.jsx)(y,{})}),Object(h.jsx)(l.a,{path:"/signup",children:Object(h.jsx)(N,{})})]})})})};i.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.3109c58b.chunk.js.map